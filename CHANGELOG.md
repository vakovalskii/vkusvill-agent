# Changelog - VkusVill Shopping Agent

## [1.0.0] - 2025-12-30

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ

#### VkusVill Shopping Agent
- –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã –í–∫—É—Å–í–∏–ª–ª
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VkusVill MCP —Å–µ—Ä–≤–µ—Ä–æ–º (https://mcp001.vkusvill.ru/mcp)
- –¢—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
  - `vkusvill_products_search` - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
  - `vkusvill_product_details` - –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
  - `vkusvill_cart_link_create` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Persistent MCP Client** - –∫–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–π —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç** - —É–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ —Å 12-15 –¥–æ 3-4
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (‚è±Ô∏è)
- **–ß–∏—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ HTTP/MCP –ª–æ–≥–∏, —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Pydantic –º–æ–¥–µ–ª–µ–π —Å enum
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `make_serializable()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ default –∑–Ω–∞—á–µ–Ω–∏–π –≤ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Üí –ø—Ä–æ–±–µ–ª)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫ –≤ system prompt

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `config.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ MCP —Å–µ—Ä–≤–µ—Ä–∞
- `agents.yaml` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ VkusVill –∞–≥–µ–Ω—Ç–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
- `logging_config.yaml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ ERROR —É—Ä–æ–≤–Ω–µ)
- `main.py` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ü–æ–ª–Ω—ã–π `README.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `DEBUG_LOGGING.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é
- `PARALLEL_TOOL_CALLS.md` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `CHANGELOG.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ sgr_agent_core:

**base_agent.py:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `execution_time` –≤ `_log_tool_execution()`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `make_serializable()` –¥–ª—è JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Pydantic enum

**base_tool.py:**
- –î–æ–±–∞–≤–ª–µ–Ω `_client_config` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP –∫–ª–∏–µ–Ω—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ persistent –∫–ª–∏–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤

**services/mcp_service.py:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω persistent MCP –∫–ª–∏–µ–Ω—Ç
- –ö–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- –£–±—Ä–∞–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ `http_client` –≤ `Client()` (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

**agents/tool_calling_agent.py:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –í—Ä–µ–º—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `_log_tool_execution()`

**agents/sgr_agent.py:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ tool_calling_agent)

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- 12-15 —à–∞–≥–æ–≤ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `vkusvill_product_details` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- 3-4 —à–∞–≥–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (—ç–∫–æ–Ω–æ–º–∏—è ~70%)
- `vkusvill_product_details` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö

### üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
conda create -n vkusvill python=3.11
conda activate vkusvill
pip install -e .

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ config.yaml (–¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π API –∫–ª—é—á)

# –ó–∞–ø—É—Å–∫
python main.py
```

### üìù –ü—Ä–∏–º–µ—Ä—ã

```python
# –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫
agent = await AgentFactory.create(
    agent_def=config.agents["vkusvill_shopping_agent"],
    task="–ù–∞–π–¥–∏ —Ö–ª–µ–± —Å–≤–µ–∂–∏–π",
)
result = await agent.execute()

# –ü–æ–∏—Å–∫ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–æ—Ä–∑–∏–Ω—ã
agent = await AgentFactory.create(
    agent_def=config.agents["vkusvill_shopping_agent"],
    task="–ù–∞–π–¥–∏ –º–æ–ª–æ–∫–æ, —Ö–ª–µ–± –∏ —è–π—Ü–∞, —Å–æ–∑–¥–∞–π –∫–æ—Ä–∑–∏–Ω—É",
)
result = await agent.execute()
```

### üîó –°—Å—ã–ª–∫–∏

- GitHub Branch: https://github.com/vamplabAI/sgr-agent-core/tree/vkusvill-shopping-agent
- Pull Request: https://github.com/vamplabAI/sgr-agent-core/pull/new/vkusvill-shopping-agent
- VkusVill MCP Server: https://mcp001.vkusvill.ru/mcp

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 30 –¥–µ–∫–∞–±—Ä—è 2025

